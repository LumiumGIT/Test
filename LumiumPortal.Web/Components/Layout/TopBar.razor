@using Microsoft.AspNetCore.Components.Authorization

<MudAppBar Elevation="1">
    <MudIconButton Icon="@Icons.Material.Filled.Menu" 
                   Color="Color.Inherit" 
                   Edge="Edge.Start" 
                   OnClick="@ToggleDrawer" />
    
    <MudText Typo="Typo.h6" Class="ml-3">Lumium Portal</MudText>
    
    <MudSpacer />
    
    <MudIconButton Icon="@(IsDarkMode ? Icons.Material.Filled.LightMode : Icons.Material.Filled.DarkMode)"
                   Color="Color.Inherit"
                   OnClick="@ToggleTheme" />
    
    <AuthorizeView>
        <Authorized>
            <MudText Typo="Typo.body1" Class="mr-4">
                @GetUserFullName(context.User)
            </MudText>

            <MudButton Variant="Variant.Outlined" 
                       Color="Color.Inherit" 
                       StartIcon="@Icons.Material.Filled.Logout"
                       OnClick="@HandleLogout">
                Odjavi se
            </MudButton>
        </Authorized>
        <NotAuthorized>
            <MudButton Variant="Variant.Outlined" 
                       Color="Color.Inherit" 
                       StartIcon="@Icons.Material.Filled.Login"
                       OnClick="@HandleLogin">
                Prijavi se
            </MudButton>
        </NotAuthorized>
    </AuthorizeView>
</MudAppBar>